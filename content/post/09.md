---
date: "2021-08-01T13:05:05-05:00"
tags:
- æ¨æ–­ç»Ÿè®¡
- å‡è®¾æ£€éªŒ
- SPSS
title: ç¬¬ä¹è®² æŠ½æ ·åˆ†å¸ƒã€åŒºé—´ä¼°è®¡ä¸å‡å€¼æ£€éªŒ
---

#### ä»ç†è®ºåˆ°å®è·µ
> **è¾…åŠ©çŸ¥è¯†ç‚¹ï¼š**
> åœ¨ä¸Šä¸€è®²ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡æ¨¡æ‹Ÿï¼Œç›´è§‚åœ°ç†è§£äº†æ€»ä½“ã€æ ·æœ¬å’ŒæŠ½æ ·åˆ†å¸ƒè¿™ä¸‰å¤§æ ¸å¿ƒæ¦‚å¿µã€‚
> 
> æœ¬è®²æˆ‘ä»¬å°†å­¦ä¹ 
> 1.  **ç²¾ç¡®è®¡ç®—**è¿™ä¸‰ä¸ªåˆ†å¸ƒçš„å…³é”®å‚æ•°ï¼ˆå‡å€¼ã€æ–¹å·®ã€æ ‡å‡†å·®/æ ‡å‡†è¯¯ï¼‰ã€‚
> 2.  åˆ©ç”¨æˆ‘ä»¬æ‰‹ä¸­çš„**ä¸€ä¸ªæ ·æœ¬**ï¼Œå¯¹æœªçŸ¥çš„æ€»ä½“å‚æ•°è¿›è¡Œ**åŒºé—´ä¼°è®¡**ï¼ˆConfidence Intervalï¼‰ã€‚
> 3.  åŸºäºæ ·æœ¬è¯æ®ï¼Œå¯¹å…³äºæ€»ä½“å‡å€¼çš„æŸä¸ª**æ–­è¨€**è¿›è¡Œç§‘å­¦çš„**å‡è®¾æ£€éªŒ** (Hypothesis Testing)ã€‚

---

#### 0. é¢„å¤„ç†
*   **è®¾ç½®å·¥ä½œç›®å½•**
```spss
CD "/Users/ginglam/Public/data".
```
*   **å¯¼å…¥2016å¹´ä¸­å›½åŠ³åŠ¨åŠ›åŠ¨æ€è°ƒæŸ¥æ•°æ® (CLDS)**
```spss
GET FILE "clds2016_i.sav".
DATASET NAME clds.
DATASET ACTIVATE clds.
```

#### 1. è®¡ç®—æ€»ä½“åˆ†å¸ƒã€æ ·æœ¬åˆ†å¸ƒåŠæŠ½æ ·åˆ†å¸ƒ
æˆ‘ä»¬å°†ä»¥2015å¹´æ€»æ”¶å…¥ (`I3a_6`) ä¸ºä¾‹ï¼Œé€šè¿‡ä¸€ä¸ªæ¸…æ™°çš„æµç¨‹ï¼Œæ¥è®¡ç®—æ€»ä½“ã€æ ·æœ¬åŠæŠ½æ ·åˆ†å¸ƒçš„å‚æ•°ã€‚

*   **åœºæ™¯è®¾å®š**
    *   é¦–å…ˆå°†å®Œæ•´çš„CLDSæ•°æ®é›†**è§†ä¸ºâ€œæ€»ä½“â€**ã€‚
    *   ç„¶åä»ä¸­éšæœºæŠ½å–ä¸€ä¸ª**æ ·æœ¬ (n=500)**ã€‚
    *   æœ€åè®¡ç®—ç†è®ºä¸Šçš„**æŠ½æ ·åˆ†å¸ƒ**å‚æ•°ã€‚

*   **ç¬¬ä¸€æ­¥ï¼šè®¡ç®—æ€»ä½“å‚æ•° (Population Parameters)**
    *   æˆ‘ä»¬å…ˆç­›é€‰å‡ºæœ‰æ•ˆæ•°æ®ï¼Œå¹¶è®¡ç®—å…¶çœŸå®çš„å‡å€¼(Î¼)ã€æ–¹å·®(ÏƒÂ²)å’Œæ ‡å‡†å·®(Ïƒ)ã€‚
    *   æ³¨æ„ï¼šæ­¤æ—¶CLDSæ•°æ®é›†ç›¸å½“äºæ€»ä½“æ•°æ®é›†ã€‚
```spss
* å‡†å¤‡æ•°æ®ï¼Œç­›é€‰æœ‰æ•ˆå€¼.
SELECT IF (I3a_6 >= 0).
COMPUTE income = I3a_6.
EXECUTE.

* è®¡ç®—æ€»ä½“å‡å€¼(Î¼).
AGGREGATE
   /pop_mean = MEAN(income).
* è®¡ç®—æ€»ä½“æ–¹å·®(ÏƒÂ²)ï¼Œå…¶å®šä¹‰æ˜¯ç¦»å·®å¹³æ–¹å’Œçš„åŠ æƒå‡å€¼.
COMPUTE diff_sq = (income - pop_mean)**2.
AGGREGATE
   /pop_var = MEAN(diff_sq).
* è®¡ç®—æ€»ä½“æ ‡å‡†å·®(Ïƒ)ï¼Œå³æ–¹å·®çš„æ­£å¹³æ–¹æ ¹.
COMPUTE pop_sd = SQRT(pop_var).
EXECUTE.

* æ˜¾ç¤ºç»“æœ.
FORMATS pop_mean pop_var pop_sd (F20.16).
DESCRIPTIVES pop_mean pop_var pop_sd
    /STATISTICS mean.
```

![æ€»ä½“å‚æ•°](https://stat4soc.netlify.app/images/9.1.png)

*   **ç¬¬äºŒæ­¥ï¼šæŠ½å–æ ·æœ¬ï¼Œå¹¶è®¡ç®—æ ·æœ¬ç»Ÿè®¡é‡ (Sample Statistics)**
    *   ç°åœ¨æˆ‘ä»¬ä»â€œæ€»ä½“â€çš„1462ä¸ªå¯¹è±¡ä¸­ï¼ŒæŠ½å–ä¸€ä¸ªn=500çš„æ ·æœ¬ã€‚
```spss
* é‡æ–°åŠ è½½å®Œæ•´æ•°æ®ä»¥è¿›è¡ŒæŠ½æ ·.
GET FILE "clds2016_i.sav".
SELECT IF (I3a_6 >= 0).
COMPUTE income = I3a_6.
SET SEED=2024. /* è®¾å®šéšæœºç§å­ä»¥ä¿è¯ç»“æœå¯å¤ç° */
SAMPLE 500 FROM 1462.
EXECUTE.

* è®¡ç®—æ ·æœ¬å‡å€¼(XÌ„)ã€æ ·æœ¬æ–¹å·®(sÂ²_n)å’Œæ ·æœ¬æ ‡å‡†å·®(s_n).
* æ³¨æ„ï¼šè¿™é‡Œæˆ‘ä»¬å…ˆæ‰‹åŠ¨è®¡ç®—åˆ†æ¯ä¸ºnçš„â€œæœ‰åâ€æ–¹å·®. å½“æˆ‘ä»¬ä¸å…³æ³¨æ€»ä½“ï¼Œåªå…³æ³¨æ ·æœ¬æœ¬èº«ï¼Œè®¡ç®—æ–¹å·®çš„åˆ†æ¯ä¸ºn.
AGGREGATE
   /sam_mean = MEAN(income).
COMPUTE sam_diff_sq = (income - sam_mean)**2.
AGGREGATE
   /sam_var_n = MEAN(sam_diff_sq).
COMPUTE sam_sd_n = SQRT(sam_var_n).
EXECUTE.
FORMATS sam_mean sam_var_n sam_sd_n (F20.16).
DESCRIPTIVES sam_mean sam_var_n sam_sd_n 
    /STATISTICS mean.
```

![æ ·æœ¬ç»Ÿè®¡é‡](https://stat4soc.netlify.app/images/9.2.png)

*   **ç¬¬ä¸‰æ­¥ï¼šè®¡ç®—æŠ½æ ·åˆ†å¸ƒçš„å‚æ•° (Sampling Distribution Parameters)**
*   **æƒ…å†µä¸€ï¼šå½“æ€»ä½“å·²çŸ¥æ—¶ (ç†è®ºæƒ…å†µ)**
   *   æŠ½æ ·åˆ†å¸ƒçš„å‡å€¼(Î¼_xÌ„)ç­‰äºæ€»ä½“å‡å€¼(Î¼)ã€‚
   *   æŠ½æ ·åˆ†å¸ƒçš„æ–¹å·®(ÏƒÂ²_xÌ„)ç­‰äºæ€»ä½“æ–¹å·®(ÏƒÂ²)é™¤ä»¥æ ·æœ¬é‡nã€‚
   *   æŠ½æ ·åˆ†å¸ƒçš„æ ‡å‡†å·®ï¼Œå³**æ ‡å‡†è¯¯ (Standard Error, SE)**ï¼Œç­‰äºæ€»ä½“æ ‡å‡†å·®(Ïƒ)é™¤ä»¥âˆšnã€‚
```spss
COMPUTE sampling_mean_pop = pop_mean.
COMPUTE sampling_var_pop = pop_var/500.
COMPUTE sampling_sd_pop = SQRT(sampling_var_pop). /* è¿™å°±æ˜¯æ ‡å‡†è¯¯ SE */
EXECUTE.
FORMATS sampling_mean_pop sampling_var_pop sampling_sd_pop (F20.16).
DESCRIPTIVES sampling_mean_pop sampling_var_pop sampling_sd_pop
    /STATISTICS mean.
```

![æŠ½æ ·åˆ†å¸ƒå‚æ•°-æ€»ä½“å·²çŸ¥](https://stat4soc.netlify.app/images/9.3.png)

*   **æƒ…å†µäºŒï¼šå½“æ€»ä½“æœªçŸ¥æ—¶ (ç°å®æƒ…å†µ)**
   *   åœ¨ç°å®ä¸­ï¼Œæˆ‘ä»¬æ²¡æœ‰æ€»ä½“å‚æ•°ï¼Œåªèƒ½ç”¨**æ ·æœ¬ç»Ÿè®¡é‡**æ¥**ä¼°è®¡**æŠ½æ ·åˆ†å¸ƒçš„å‚æ•°ã€‚
   *   **æ–¹æ³•Aï¼šæ‰‹åŠ¨è®¡ç®— (åº”ç”¨è´å¡å°”æ ¡æ­£)**
   > **è¾…åŠ©çŸ¥è¯†ç‚¹ï¼šè´å¡å°”æ ¡æ­£ (Bessel's Correction)**
   > å½“æˆ‘ä»¬ä½¿ç”¨æ ·æœ¬æ–¹å·®æ¥ä¼°è®¡æ€»ä½“æ–¹å·®æ—¶ï¼Œç›´æ¥è®¡ç®—çš„æ ·æœ¬æ–¹å·®ï¼ˆåˆ†æ¯ä¸ºnï¼‰ä¼šå€¾å‘äºä½ä¼°çœŸå®çš„æ€»ä½“æ–¹å·®ã€‚ä¸ºäº†å¾—åˆ°ä¸€ä¸ªæ›´å‡†ç¡®çš„**æ— åä¼°è®¡**ï¼Œæˆ‘ä»¬éœ€è¦å°†åˆ†æ¯ä»`n`è°ƒæ•´ä¸º`n-1`ã€‚è¿™å°±æ˜¯è´å¡å°”æ ¡æ­£ã€‚
```spss
/* å‡è®¾æˆ‘ä»¬åªæœ‰é‚£ä¸ªn=500çš„æ ·æœ¬... */
COMPUTE sampling_mean_sam1 = sam_mean.
* è®¡ç®—ç¦»å·®å¹³æ–¹å’Œ.
AGGREGATE
   /sam_diff_sum = SUM(sam_diff_sq).
* è®¡ç®—ç»è¿‡æ ¡æ­£çš„æ ·æœ¬æ–¹å·® sÂ² (åˆ†æ¯ä¸ºn-1).
COMPUTE s_squared = sam_diff_sum/(500 - 1).
* ä¼°è®¡æŠ½æ ·åˆ†å¸ƒçš„æ–¹å·®.
COMPUTE sampling_var_sam1 = s_squared/500.
* ä¼°è®¡æ ‡å‡†è¯¯.
COMPUTE sampling_sd_sam1 = SQRT(sampling_var_sam1).
EXECUTE.
FORMATS sampling_mean_sam1 sampling_var_sam1 sampling_sd_sam1 (F20.16).
DESCRIPTIVES sampling_mean_sam1 sampling_var_sam1 sampling_sd_sam1
    /STATISTICS mean.
```

![æŠ½æ ·åˆ†å¸ƒå‚æ•°-æ‰‹åŠ¨ä¼°è®¡](https://stat4soc.netlify.app/images/9.4.png)

   *   **æ–¹æ³•Bï¼šåˆ©ç”¨SPSSå†…ç½®å‘½ä»¤ä¸è¾“å‡ºç®¡ç†ç³»ç»Ÿï¼ˆOutput Management Systemï¼ŒOMSï¼‰**
       *   SPSSçš„`DESCRIPTIVES`ç­‰æ ‡å‡†å‘½ä»¤åœ¨è®¡ç®—æ ‡å‡†å·®å’Œæ–¹å·®æ—¶ï¼Œ**é»˜è®¤å·²ç»è¿›è¡Œäº†è´å¡å°”æ ¡æ­£**ï¼ˆå³åˆ†æ¯ä¸ºn-1ï¼‰ã€‚å®ƒè®¡ç®—å‡ºçš„â€œå‡å€¼æ ‡å‡†è¯¯(SEMEAN)â€å°±æ˜¯æˆ‘ä»¬éœ€è¦çš„`s / sqrt(n)`ã€‚æˆ‘ä»¬å¯ä»¥ç”¨è¾“å‡ºç®¡ç†ç³»ç»Ÿ(OMS)å°†è¿™ä¸ªç»“æœç›´æ¥æ•è·ä¸ºä¸€ä¸ªæ–°æ•°æ®é›†ã€‚

> ### è¾…åŠ©çŸ¥è¯†ç‚¹ï¼šè¾“å‡ºç®¡ç†ç³»ç»Ÿ (Output Management System, OMS)
> 
> **ä»€ä¹ˆæ˜¯OMSï¼Ÿ**
> 
> è¾“å‡ºç®¡ç†ç³»ç»Ÿ (OMS) æ˜¯SPSSä¸­ä¸€ä¸ªéå¸¸å¼ºå¤§çš„é«˜çº§åŠŸèƒ½ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è¿è¡Œä¸€ä¸ªåˆ†æå‘½ä»¤ï¼ˆå¦‚`FREQUENCIES`ï¼‰ï¼Œå®ƒçš„ç»“æœä¼šä»¥è¡¨æ ¼å’Œå›¾å½¢çš„å½¢å¼æ˜¾ç¤ºåœ¨â€œè¾“å‡ºæŸ¥çœ‹å™¨â€çª—å£ä¸­ã€‚è¿™äº›ç»“æœæ˜¯â€œæ­»çš„â€ï¼Œæˆ‘ä»¬åªèƒ½çœ‹ï¼Œä¸èƒ½ç›´æ¥ç”¨äºå†åˆ†æã€‚
> 
> **OMS** çš„ä½œç”¨å°±æ˜¯å……å½“ä¸€ä¸ªâ€œæ•è·å™¨â€æˆ–â€œæ‹¦æˆªå™¨â€ã€‚å®ƒå¯ä»¥åœ¨ç»“æœè¢«å‘é€åˆ°è¾“å‡ºæŸ¥çœ‹å™¨ä¹‹å‰ï¼Œå°†å…¶**æ‹¦æˆª**ä¸‹æ¥ï¼Œå¹¶æŒ‰ç…§æˆ‘ä»¬çš„æŒ‡ä»¤ï¼Œå°†è¿™äº›è¡¨æ ¼**è½¬æ¢æˆä¸€ä¸ªSPSSæ•°æ®æ–‡ä»¶ (.sav)**ã€‚
> 
> **ä¸ºä»€ä¹ˆè¦ç”¨OMSï¼Ÿ**
> 
> æƒ³è±¡ä¸€ä¸‹ï¼Œä½ æƒ³æ¯”è¾ƒ100ä¸ªä¸åŒå˜é‡çš„å‡å€¼ã€‚å¦‚æœç”¨å¸¸è§„æ–¹æ³•ï¼Œä½ éœ€è¦è¿è¡Œ100æ¬¡`DESCRIPTIVES`ï¼Œç„¶åæ‰‹åŠ¨å°†100ä¸ªå‡å€¼ä»è¾“å‡ºçª—å£æŠ„å†™æˆ–å¤åˆ¶åˆ°ä¸€ä¸ªæ–°çš„æ•°æ®æ–‡ä»¶ä¸­ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸ä»…ç¹çï¼Œè€Œä¸”ææ˜“å‡ºé”™ã€‚
> 
> ä½¿ç”¨OMSï¼Œä½ åªéœ€è¦ç¼–å†™ä¸€ä¸ªç®€å•çš„è¯­æ³•å—ï¼Œè¿è¡Œè¿™100æ¬¡`DESCRIPTIVES`ï¼ŒOMSå°±ä¼šè‡ªåŠ¨ä¸ºä½ åˆ›å»ºä¸€ä¸ªåŒ…å«è¿™100ä¸ªå‡å€¼çš„æ–°æ•°æ®é›†ã€‚è¿™åœ¨è¿›è¡Œå…ƒåˆ†æã€æ¨¡æ‹Ÿç ”ç©¶æˆ–éœ€è¦å¯¹åˆ†æç»“æœè¿›è¡ŒäºŒæ¬¡å¤„ç†æ—¶ï¼Œæ˜¯ä¸å¯æˆ–ç¼ºçš„åˆ©å™¨ã€‚
> 
> **å…³é”®ä½¿ç”¨æŠ€å·§ï¼šåˆ‡æ¢è¾“å‡ºè¯­è¨€**
> 
> åœ¨ä½¿ç”¨OMSå°†ç»“æœä¿å­˜ä¸ºæ•°æ®æ–‡ä»¶ä¹‹å‰ï¼Œå¼ºçƒˆå»ºè®®**å°†SPSSçš„è¾“å‡ºè¯­è¨€ä¸´æ—¶åˆ‡æ¢ä¸ºè‹±è¯­**ã€‚
> *   **ç‚¹é€‰æ“ä½œ**ï¼šç¼–è¾‘ â†’ é€‰é¡¹ â†’ è¯­è¨€ â†’ åœ¨â€œè¾“å‡ºâ€ä¸‹æ‹‰èœå•ä¸­é€‰æ‹©â€œEnglishâ€ã€‚
> *   **åŸå› **ï¼šå¦‚æœä½¿ç”¨ä¸­æ–‡è¾“å‡ºï¼ŒOMSç”Ÿæˆçš„æ•°æ®é›†ä¸­çš„å˜é‡åå¯èƒ½ä¼šæ˜¯ä¸­æ–‡ï¼ˆä¾‹å¦‚â€œå‡å€¼â€ã€â€œæ ‡å‡†å·®â€ï¼‰ã€‚è™½ç„¶è¿™åœ¨SPSSä¸­å¯è¡Œï¼Œä½†åœ¨åç»­çš„è¯­æ³•ç¼–å†™æˆ–ä¸å…¶ä»–è½¯ä»¶äº¤äº’æ—¶ï¼Œä½¿ç”¨è‹±æ–‡å˜é‡åï¼ˆå¦‚`Mean`, `StdDeviation`ï¼‰ä¼šæ›´åŠ æ ‡å‡†å’Œæ–¹ä¾¿ï¼Œé¿å…æ½œåœ¨çš„ç¼–ç é—®é¢˜ã€‚
> 
> ---
>

#### è¯­æ³•ç»“æ„ï¼š`OMS` çš„å·¥ä½œæ¨¡å¼å°±åƒä¸€ä¸ªä¸‰æ˜æ²»ï¼š`OMS`å‘½ä»¤æ˜¯é¡¶éƒ¨çš„é¢åŒ…ç‰‡ï¼Œ`OMSEND`æ˜¯åº•éƒ¨çš„é¢åŒ…ç‰‡ï¼Œä¸­é—´å¤¹ç€çš„æ˜¯ä½ æƒ³è¦æ•è·å…¶ç»“æœçš„å¸¸è§„åˆ†æå‘½ä»¤ã€‚

**é€šç”¨æ ¼å¼**
```spss
OMS
  /SELECT [å†…å®¹ç±»å‹]
  /IF COMMANDS=['å‘½ä»¤1' 'å‘½ä»¤2'...] SUBTYPES=['å­ç±»å‹1' 'å­ç±»å‹2'...]
  /DESTINATION FORMAT=SAV OUTFILE='<æ–‡ä»¶å.sav>'.

[è¿™é‡Œæ˜¯ä½ çš„å¸¸è§„åˆ†æå‘½ä»¤ï¼Œä¾‹å¦‚ DESCRIPTIVES, FREQUENCIES ç­‰]

OMSEND.
```

**è¯­æ³•è¯´æ˜**

*   `OMS ... OMSEND.`
    è¿™æ˜¯ä¸€ä¸ªæˆå¯¹å‡ºç°çš„å‘½ä»¤å—ã€‚`OMS`æ ‡å¿—ç€æ•è·å¼€å§‹ï¼Œ`OMSEND`æ ‡å¿—ç€æ•è·ç»“æŸã€‚æ‰€æœ‰åœ¨è¿™ä¸¤è€…ä¹‹é—´çš„å‘½ä»¤çš„è¾“å‡ºï¼Œéƒ½ä¼šè¢«OMSç³»ç»Ÿè¿›è¡Œå¤„ç†ã€‚

*   `/SELECT [å†…å®¹ç±»å‹]`
    æŒ‡å®šä½ æƒ³è¦æ•è·çš„è¾“å‡ºå†…å®¹çš„**ä¸»è¦ç±»å‹**ã€‚
    *   `TABLES`: **è¡¨æ ¼** (è¿™æ˜¯æœ€å¸¸ç”¨çš„é€‰é¡¹)ã€‚
    *   `HEADINGS`: æ ‡é¢˜æ–‡æœ¬ã€‚
    *   `CHARTS`: å›¾å½¢ã€‚
    *   `MODELS`: æ¨¡å‹ï¼ˆå¦‚å›å½’æ¨¡å‹çš„æ‘˜è¦ï¼‰ã€‚
    *   `WARNINGS`: è­¦å‘Šä¿¡æ¯ã€‚

*   `/IF COMMANDS=['å‘½ä»¤åˆ—è¡¨'] SUBTYPES=['å­ç±»å‹åˆ—è¡¨']`
    è¿™æ˜¯ä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œç”¨äº**ç²¾ç¡®æŒ‡å®š**ä½ åªæƒ³æ•è·å“ªäº›å‘½ä»¤çš„å“ªäº›ç‰¹å®šè¡¨æ ¼ã€‚
    *   `COMMANDS`: æŒ‡å®šä½ æ„Ÿå…´è¶£çš„å‘½ä»¤åç§°ï¼Œä¾‹å¦‚ `['Descriptives']`, `['Frequencies']`, `['T-Test']`ã€‚
    *   `SUBTYPES`: æŒ‡å®šè¯¥å‘½ä»¤è¾“å‡ºçš„ä¼—å¤šè¡¨æ ¼ä¸­ï¼Œä½ å…·ä½“æƒ³è¦å“ªä¸€ä¸ªã€‚
    *   **å¦‚ä½•æ‰¾åˆ°æ­£ç¡®çš„`SUBTYPES`åç§°ï¼Ÿ** è¿™æ˜¯ä½¿ç”¨OMSæœ€å…³é”®çš„ä¸€æ­¥ã€‚
        1.  å…ˆæ­£å¸¸è¿è¡Œä¸€æ¬¡ä½ æƒ³æ•è·çš„å‘½ä»¤ï¼ˆä¾‹å¦‚ `DESCRIPTIVES income.`ï¼‰ã€‚
        2.  åœ¨è¾“å‡ºæŸ¥çœ‹å™¨ä¸­ï¼Œæ‰¾åˆ°ä½ æƒ³è¦æ•è·çš„é‚£ä¸ªè¡¨æ ¼ã€‚
        3.  **å³é”®ç‚¹å‡»**è¯¥è¡¨æ ¼çš„æ ‡é¢˜ï¼ˆåœ¨å·¦ä¾§å¤§çº²è§†å›¾ä¸­ï¼‰ï¼Œé€‰æ‹©**â€œå¤åˆ¶OMSå‘½ä»¤æ ‡è¯†ç¬¦â€**å’Œ**â€œå¤åˆ¶OMSè¡¨æ ¼å­ç±»å‹â€**ï¼Œç„¶åç²˜è´´åˆ°ä½ çš„è¯­æ³•ä¸­ã€‚

*   `/DESTINATION FORMAT=<æ ¼å¼OUTFILE='<æ–‡ä»¶å>'`
    æŒ‡å®šæ•è·åˆ°çš„å†…å®¹è¦ä»¥ä½•ç§æ ¼å¼ä¿å­˜åˆ°å“ªä¸ªæ–‡ä»¶ä¸­ã€‚
    *   `FORMAT`:
        *   `SAV`: SPSSæ•°æ®æ–‡ä»¶ (æœ€å¸¸ç”¨)ã€‚
        *   `XLSX`: Excelæ–‡ä»¶ã€‚
        *   `PDF`: PDFæ–‡æ¡£ã€‚
        *   `HTML`, `TEXT` ç­‰ã€‚
    *   `OUTFILE`: æŒ‡å®šä¿å­˜çš„è·¯å¾„å’Œæ–‡ä»¶åã€‚

**ç»¼åˆç¤ºä¾‹ï¼šæ•è·`DESCRIPTIVES`å‘½ä»¤çš„æè¿°ç»Ÿè®¡è¡¨**

*   **ç›®æ ‡**ï¼šæˆ‘ä»¬æƒ³è¿è¡Œ`DESCRIPTIVES`å‘½ä»¤æ¥è®¡ç®—å˜é‡`income`çš„å‡å€¼ã€æ ‡å‡†å·®ç­‰ï¼Œå¹¶å¸Œæœ›å°†è¾“å‡ºçš„â€œæè¿°ç»Ÿè®¡â€è¡¨æ ¼ç›´æ¥ä¿å­˜ä¸ºä¸€ä¸ªåä¸º `my_descriptives.sav` çš„æ–°æ•°æ®é›†ã€‚

*   **è¯­æ³•å®ç°**ï¼š
```spss
* æ­¥éª¤ä¸€ï¼šå¼€å§‹OMSæ•è·ä¼šè¯.
OMS
   /SELECT TABLES  /* æˆ‘ä»¬æƒ³è¦æ•è·çš„æ˜¯è¡¨æ ¼ */
   /IF COMMANDS=['Descriptives'] SUBTYPES=['Descriptive Statistics'] /* ç²¾ç¡®æŒ‡å®šï¼šåªæ•è·DESCRIPTIVESå‘½ä»¤çš„'Descriptive Statistics'å­ç±»å‹è¡¨æ ¼ */
   /DESTINATION FORMAT=SAV OUTFILE='my_descriptives.sav'. /* å°†å…¶ä¿å­˜ä¸ºSAVæ–‡ä»¶ */
    
* æ­¥éª¤äºŒï¼šè¿è¡Œæˆ‘ä»¬å¸¸è§„çš„åˆ†æå‘½ä»¤.
* è¿™ä¸ªå‘½ä»¤çš„è¾“å‡ºç»“æœä¸ä¼šæ˜¾ç¤ºåœ¨æŸ¥çœ‹å™¨ä¸­ï¼Œè€Œæ˜¯ä¼šè¢«OMSæ‹¦æˆª.
DESCRIPTIVES VARIABLES=income
   /STATISTICS=MEAN STDDEV VARIANCE SEMEAN.
    
* æ­¥éª¤ä¸‰ï¼šç»“æŸOMSæ•è·ä¼šè¯ï¼Œæ­¤æ—¶æ–‡ä»¶å°†è¢«å†™å…¥ç£ç›˜
OMSEND.
    
* æ­¥éª¤å›› (å¯é€‰)ï¼šæ‰“å¼€æ–°ç”Ÿæˆçš„æ•°æ®é›†æŸ¥çœ‹ç»“æœ
GET FILE "my_descriptives.sav".
LIST.
```

*   æ¥ä¸‹æ¥æˆ‘ä»¬å°†è¯­æ³•DESCRIPTIVESè®¡ç®—incomeçš„ç»“æœå­˜å‚¨ä¸ºæ•°æ®ã€‚
```spss
* å‡è®¾æˆ‘ä»¬ä»åœ¨n=500çš„æ ·æœ¬æ•°æ®é›†ä¸­.
OMS
   /SELECT TABLES
   /IF COMMANDS=['Descriptives'] SUBTYPES=['Descriptive Statistics']
   /DESTINATION FORMAT=SAV OUTFILE='sample_descriptives.sav'.
DESCRIPTIVES income
   /STATISTICS=MEAN STDDEV VARIANCE SEMEAN.
OMSEND.

* è¯»å–æ•è·çš„ç»“æœ.
GET FILE "sample_descriptives.sav".
RENAME VARIABLES
   (Mean_Statistic=sam_mean)
   (Std. Deviation_Statistic=s)
   (Variance_Statistic=s_squared)
   (Std. Error of Mean_Statistic=SE_mean).
        
* æ•´ç†å¹¶è®¡ç®—.
COMPUTE sampling_mean_sam2 = sam_mean.
COMPUTE sampling_sd_sam2 = SE_mean.
COMPUTE sampling_var_sam2 = SE_mean**2.
EXECUTE.
SUMMARIZE
   /TABLES=sampling_mean_sam2 sampling_var_sam2 sampling_sd_sam2
   /FORMAT=VALIDLIST NOCASENUM /CELLS=FIRST.
```

![æŠ½æ ·åˆ†å¸ƒå‚æ•°-OMSä¼°è®¡](https://stat4soc.netlify.app/images/9.6.png)

*å¯ä»¥å‘ç°ï¼Œæ‰‹åŠ¨è®¡ç®—å’ŒOMSæ–¹æ³•å¾—åˆ°çš„ç»“æœæ˜¯å®Œå…¨ä¸€è‡´çš„ã€‚*

#### 2. æ ¹æ®æ ·æœ¬ä¿¡æ¯ï¼Œå¯¹æ€»ä½“è¿›è¡ŒåŒºé—´ä¼°è®¡
*   åˆ©ç”¨æˆ‘ä»¬è®¡ç®—å‡ºçš„æ ·æœ¬å‡å€¼å’Œæ ‡å‡†è¯¯ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºæœªçŸ¥çš„æ€»ä½“å‡å€¼æ„å»ºä¸€ä¸ª**ç½®ä¿¡åŒºé—´**ã€‚

*   **æ¡ˆä¾‹èƒŒæ™¯**ï¼šç»§ç»­ä½¿ç”¨n=500çš„æ”¶å…¥æ ·æœ¬ï¼Œè®¡ç®—æ€»ä½“å¹³å‡æ”¶å…¥çš„**99%ç½®ä¿¡åŒºé—´**ã€‚

*   **æ–¹æ³•ä¸€ï¼šæ‰‹åŠ¨è®¡ç®—**
    *   å…¬å¼ï¼š`æ ·æœ¬å‡å€¼ Â± (ä¸´ç•Œå€¼ * æ ‡å‡†è¯¯)`
    *   å¯¹äº99%ç½®ä¿¡åº¦ï¼Œå¤§æ ·æœ¬(n>30)ä¸‹çš„Zä¸´ç•Œå€¼çº¦ä¸º**2.58**ã€‚
```spss
/* å‡è®¾ sampling_mean_sam1 å’Œ sampling_sd_sam1 å·²è®¡ç®—å¥½ */
COMPUTE interval_lower = sampling_mean_sam1 - 2.58 * sampling_sd_sam1.
COMPUTE interval_upper = sampling_mean_sam1 + 2.58 * sampling_sd_sam1.
EXECUTE.
DESCRIPTIVES sampling_mean_sam1 interval_lower interval_upper
    /STATISTICS mean.
```

![æ‰‹åŠ¨è®¡ç®—ç½®ä¿¡åŒºé—´](https://stat4soc.netlify.app/images/9.7.png)

*   **æ–¹æ³•äºŒï¼šä½¿ç”¨`EXAMINE`å‘½ä»¤ (æ¨è)**
```spss
/* åœ¨n=500çš„æ ·æœ¬æ•°æ®é›†ä¸­æ‰§è¡Œ */
EXAMINE income
   /PLOT NONE
   /CINTERVAL 99.
```

![EXAMINEè®¡ç®—ç½®ä¿¡åŒºé—´](https://stat4soc.netlify.app/images/9.8.png)

*   **æ–¹æ³•ä¸‰ï¼šä½¿ç”¨æ‹”é´æ³• (Bootstrap) ä¿®æ­£**
    > **è¾…åŠ©çŸ¥è¯†ç‚¹ï¼šä¸ºä½•ä½¿ç”¨æ‹”é´æ³•(Bootstrap)ï¼Ÿ**
    > ä¼ ç»Ÿæ–¹æ³•è®¡ç®—ç½®ä¿¡åŒºé—´ä¾èµ–äºâ€œæŠ½æ ·åˆ†å¸ƒä¸ºæ­£æ€åˆ†å¸ƒâ€çš„ç†è®ºå‡è®¾ã€‚å¦‚æœæ ·æœ¬æ•°æ®åˆ†å¸ƒå¾ˆä¸è§„åˆ™ï¼ˆå¦‚æåº¦åæ€ã€æœ‰æç«¯å€¼ï¼‰ï¼Œè¿™ä¸ªå‡è®¾å¯èƒ½ä¸æˆç«‹ã€‚**æ‹”é´æ³•**æ˜¯ä¸€ç§å¼ºå¤§çš„è®¡ç®—æœºæ¨¡æ‹ŸæŠ€æœ¯ï¼Œå®ƒé€šè¿‡å¯¹ç°æœ‰æ ·æœ¬è¿›è¡Œä¸Šåƒæ¬¡â€œæœ‰æ”¾å›çš„å†æŠ½æ ·â€ï¼Œæ¥ç»éªŒæ€§åœ°æ„å»ºä¸€ä¸ªæŠ½æ ·åˆ†å¸ƒï¼Œå¹¶æ®æ­¤è®¡ç®—ç½®ä¿¡åŒºé—´ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸ä¾èµ–äºæ­£æ€å‡è®¾ï¼Œå› æ­¤ç»“æœ**æ›´ä¸ºç¨³å¥(robust)**ã€‚

   *   ç‚¹é€‰æ“ä½œï¼šåˆ†æ â†’ æè¿°ç»Ÿè®¡ â†’ æ¢ç´¢ â†’ åœ¨å·¦ä¾§å˜é‡åˆ—è¡¨ä¸­é€‰æ‹©å˜é‡ â†’ é€‰æ‹©ç»Ÿè®¡ â†’ å‹¾é€‰æè¿°å¹¶å¡«å…¥ç½®ä¿¡åŒºé—´ â†’ ç»§ç»­
â†’ è‡ªåŠ©æŠ½æ · â†’ å‹¾é€‰æ‰§è¡Œè‡ªåŠ©æŠ½æ ·ï¼ˆå¡«å…¥æ ·æœ¬æ•°å°äºåŸå§‹æ ·æœ¬æ•°ï¼‰ â†’ å¡«å…¥ç½®ä¿¡åŒºé—´ â†’ ç»§ç»­ â†’ ç¡®å®šï¼›
   *   è¯­æ³•ç»“æ„ï¼š`BOOTSTRAP` å‘½ä»¤æœ¬èº«ä¸äº§ç”Ÿä»»ä½•è¾“å‡ºã€‚å®ƒçš„ä½œç”¨åƒä¸€ä¸ªâ€œå¼€å…³â€æˆ–â€œå‰ç¼€â€ï¼Œç”¨äº**å£°æ˜**ç´§éšå…¶åçš„é‚£ä¸ªåˆ†æå‘½ä»¤ï¼ˆå¦‚ `T-TEST`, `REGRESSION`, `MEANS` ç­‰ï¼‰éœ€è¦ä½¿ç”¨æ‹”é´æ³•æ¥è®¡ç®—å…¶æ ‡å‡†è¯¯å’Œç½®ä¿¡åŒºé—´ã€‚

**é€šç”¨æ ¼å¼**
```spss
BOOTSTRAP
  /SAMPLING METHOD=SIMPLE
  /VARIABLES TARGET=[ç›®æ ‡å˜é‡åˆ—è¡¨] INPUT=[è¾“å…¥å˜é‡åˆ—è¡¨]
  /CRITERIA CILEVEL=[ç½®ä¿¡æ°´å¹³] CITYPE=PERCENTILE NSAMPLES=[æ ·æœ¬æ•°].

* [è¿™é‡Œç´§è·Ÿä¸€ä¸ªå¸¸è§„çš„åˆ†æå‘½ä»¤ï¼Œä¾‹å¦‚ T-TEST, EXAMINE, REGRESSION ç­‰].
```

**è¯­æ³•è¯´æ˜**
*   `BOOTSTRAP`
    *   è¿™æ˜¯å‘½ä»¤çš„èµ·å§‹æ ‡å¿—ã€‚
*   `/SAMPLING METHOD=SIMPLE`
    *   æŒ‡å®šæŠ½æ ·æ–¹æ³•ã€‚`SIMPLE`ï¼ˆç®€å•æœ‰æ”¾å›æŠ½æ ·ï¼‰æ˜¯é»˜è®¤ä¸”æœ€å¸¸ç”¨çš„é€‰é¡¹ã€‚
*   `/VARIABLES`
    æŒ‡å®šåœ¨æ‹”é´æ³•æŠ½æ ·è¿‡ç¨‹ä¸­éœ€è¦å…³æ³¨çš„å˜é‡ã€‚
    *   `TARGET`: æŒ‡å®š**å› å˜é‡**æˆ–åˆ†æçš„æ ¸å¿ƒç›®æ ‡å˜é‡ã€‚
    *   `INPUT`: æŒ‡å®š**è‡ªå˜é‡**æˆ–åˆ†ç»„å˜é‡ã€‚åœ¨æŸäº›åˆ†æä¸­ï¼ˆå¦‚ç‹¬ç«‹æ ·æœ¬Tæ£€éªŒã€å›å½’åˆ†æï¼‰å¿…é¡»æŒ‡å®šã€‚
*   `/CRITERIA`
    è®¾ç½®æ‹”é´æ³•è¿è¡Œçš„å‡†åˆ™ã€‚
    *   `CILEVEL`: æŒ‡å®šè¦è®¡ç®—çš„**ç½®ä¿¡åŒºé—´çš„æ°´å¹³**ï¼Œé€šå¸¸ä¸º `95` æˆ– `99`ã€‚
    *   `CITYPE`: æŒ‡å®šè®¡ç®—ç½®ä¿¡åŒºé—´çš„æ–¹æ³•ã€‚`PERCENTILE`ï¼ˆç™¾åˆ†ä½æ³•ï¼‰å’Œ `BCa`ï¼ˆåæ€æ ¡æ­£åŠ é€Ÿæ³•ï¼‰æ˜¯ä¸¤ç§å¸¸ç”¨ä¸”æ¨èçš„æ–¹æ³•ã€‚
    *   `NSAMPLES`: æŒ‡å®šè¦ç”Ÿæˆçš„**è‡ªåŠ©æ ·æœ¬çš„æ•°é‡**ã€‚è¿™ä¸ªæ•°å€¼è¶Šå¤§ï¼Œç»“æœè¶Šç¨³å®šï¼Œä½†è®¡ç®—æ—¶é—´ä¹Ÿè¶Šé•¿ã€‚é€šå¸¸æ¨èè®¾ç½®ä¸º `1000` åˆ° `5000` ä¹‹é—´ã€‚

```spss
/* åœ¨n=500çš„æ ·æœ¬æ•°æ®é›†ä¸­æ‰§è¡Œ */
BOOTSTRAP
   /CRITERIA CILEVEL=99
   NSAMPLES=1000. /* è®¾ç½®é‡å¤æŠ½æ ·1000æ¬¡ */
EXAMINE income
   /PLOT NONE
   /CINTERVAL 99.
```
![Bootstrapè®¡ç®—ç½®ä¿¡åŒºé—´](https://stat4soc.netlify.app/images/9.9.png)
*   æ³¨æ„è§‚å¯Ÿæ‹”é´æ³•ç”Ÿæˆçš„ç½®ä¿¡åŒºé—´ï¼ˆåœ¨Bootstrapè¡¨æ ¼ä¸­ï¼‰ä¸ä¼ ç»Ÿæ–¹æ³•è®¡ç®—çš„åŒºé—´ï¼ˆåœ¨Descriptivesè¡¨æ ¼ä¸­ï¼‰çš„å·®å¼‚ã€‚

#### éšå ‚ç»ƒä¹ 
1.  ä»¥ç”Ÿæ´»å¹¸ç¦æ„Ÿï¼ˆ`I7_6_1`ï¼‰ä½œä¸ºå˜é‡ï¼ŒéšæœºæŠ½å–400ä¸ªæ ·æœ¬ï¼ˆéšæœºç§å­ä¸º20200501ï¼‰ã€‚åœ¨æ€»ä½“æƒ…å†µæœªçŸ¥çš„å‰æä¸‹ï¼Œè®¡ç®—æ ·æœ¬å‡å€¼ã€(æ ¡æ­£åçš„)æ ·æœ¬æ–¹å·®ï¼Œå¹¶ä¼°è®¡å‡ºæ ‡å‡†è¯¯ã€‚
2.  åˆ©ç”¨è¯¥æ ·æœ¬ï¼Œè®¡ç®—ç”Ÿæ´»å¹¸ç¦æ„Ÿæ€»ä½“å‡å€¼çš„95%ç½®ä¿¡åŒºé—´ã€‚

#### 3. ç»˜åˆ¶æŠ½æ ·åˆ†å¸ƒå›¾å’ŒåŒºé—´åˆ†å¸ƒå›¾
   *   æ³¨æ„ï¼šä»¥ä¸‹ä¸ºStataå‘½ä»¤
   *   æŠ½æ ·åˆ†å¸ƒå›¾
```stata
local path "/Users/ginglam/Public/data"
#delimit;
graph twoway 
	(function y=normalden(x,30123.83584,1147.37221), range(25000 35000)lw(medthin)color(gs16) recast(area))
	(function y=normalden(x,30123.83584,1147.37221), range(31271.20805 32418.58026)lw(medthin)color(gs13) recast(area))
	(function y=normalden(x,30123.83584,1147.37221), range(32418.58026 33565.95247)lw(medthin)color(gs9) recast(area))
	(function y=normalden(x,30123.83584,1147.37221), range(33565.95247 34713.32468)lw(medthin)color(gs0) recast(area))	
	(function y=normalden(x,30123.83584,1147.37221), range(27829.09142 28976.46363)lw(medthin)color(gs13) recast(area))
	(function y=normalden(x,30123.83584,1147.37221), range(26681.71921 27829.09142)lw(medthin)color(gs9) recast(area))
	(function y=normalden(x,30123.83584,1147.37221), range(25534.34700 26681.71921)lw(medthin)color(gso) recast(area))	
	(function y=normalden(x,30123.83584,1147.37221), range(25000 35000)lw(medthin)lpattern(solid)),
	title("Normal Distribution for Income")
	xtitle("income(sample mean)", size(medlarge)) ytitle("density")
	legend(off) 
	xlabel(25534 26682 27829 28976 30124 31271 32419 33566 34713, grid gmin gmax);
graph export "`path'\Week 10\1.normal_income(with notation).png", as(png) width(4000) replace;
#delimit cr
```

![æŠ½æ ·åˆ†å¸ƒ](https://stat4soc.netlify.app/images/9.10.png)

```stata
#delimit;
graph twoway 
	(function y=normalden(x,30123.83584,1147.37221), range(25000 35000)lw(medthin)color(gs16) recast(area))
	(function y=normalden(x,30123.83584,1147.37221), range(31271.20805 32418.58026)lw(medthin)color(gs13) recast(area))
	(function y=normalden(x,30123.83584,1147.37221), range(32418.58026 33565.95247)lw(medthin)color(gs9) recast(area))
	(function y=normalden(x,30123.83584,1147.37221), range(33565.95247 34713.32468)lw(medthin)color(gs0) recast(area))	
	(function y=normalden(x,30123.83584,1147.37221), range(27829.09142 28976.46363)lw(medthin)color(gs13) recast(area))
	(function y=normalden(x,30123.83584,1147.37221), range(26681.71921 27829.09142)lw(medthin)color(gs9) recast(area))
	(function y=normalden(x,30123.83584,1147.37221), range(25534.34700 26681.71921)lw(medthin)color(gso) recast(area))	
	(function y=normalden(x,30123.83584,1147.37221), range(25000 35000)lw(medthin)lpattern(solid)),
	title("Normal Distribution for Income")
	xtitle("income(sample mean)", size(medlarge)) ytitle("density")
	legend(off) 
	xlabel(25534.34700 "-4 sd" 26681.71921 "-3 sd" 27829.09142 "-2 sd" 28976.46363 "-1 sd" 30123.83584 "mean" 31271.20805 "1 sd" 32418.58026 "2 sd" 33565.95247 "3 sd " 34713.32468 "4 sd", grid gmin gmax);
graph export "`path'\Week 10\2.normal_income(without notation).png", as(png) width(4000) replace;
#delimit cr
```

![æŠ½æ ·åˆ†å¸ƒ](https://stat4soc.netlify.app/images/9.11.png)

* æ ‡å‡†æ­£æ€åˆ†å¸ƒ
```stata
#delimit;
graph twoway 
	(function y=normalden(x), range(-4 4)lw(medthin)color(gs16) recast(area))
	(function y=normalden(x), range(1 2)lw(medthin)color(gs13) recast(area))
	(function y=normalden(x), range(2 3)lw(medthin)color(gs9) recast(area))
	(function y=normalden(x), range(3 4)lw(medthin)color(gs0) recast(area))	
	(function y=normalden(x), range(-2 -1)lw(medthin)color(gs13) recast(area))
	(function y=normalden(x), range(-3 -2)lw(medthin)color(gs9) recast(area))
	(function y=normalden(x), range(-4 -3)lw(medthin)color(gso) recast(area))	
	(function y=normalden(x), range(-4 4)lw(medthin)lpattern(solid)),
	title("Standard Normal Distribution for Income")
	xtitle("income(sample mean)", size(medlarge)) ytitle("density")
	legend(off) 
	xlabel(-4 "-4 sd" -3 "-3 sd" -2 "-2 sd" -1 "-1 sd" 0 "0" 1 "1 sd" 2 "2 sd" 3 "3 sd " 4 "4 sd", grid gmin gmax);
graph export "`path'\Week 10\3.standard normal_income(with notation).png", as(png) width(4000) replace;
#delimit cr
```

![æŠ½æ ·åˆ†å¸ƒ](https://stat4soc.netlify.app/images/9.12.png)

* ç»˜åˆ¶åŒºé—´åˆ†å¸ƒå›¾
```
cd "`path'\data"
use clds2016_i.dta,clear
drop if I3a_6 == . | I3a_6 < 0
rename I3a_6 income
foreach i of numlist 1(1)100 {
	preserve
	set seed `i'0430
	sample 500,count
	ci mean income,level(95)
	gen income_lower = r(lb)
	gen income_upper = r(ub)
	keep if _n == 1
	keep income_lower income_upper
	sxpose,clear force
	destring _var1,replace
	rename _var1 interval_`i'
	gen id = _n
	gen id_`i' = `i'
	sa "simulation4/income_`i'.dta",replace
	restore
}

cd "`path'\data\simulation4"
use income_1.dta,clear
foreach i of numlist 2(1)100 {
	merge 1:1 id using income_`i'.dta,nogen
}


sa income_all.dta,replace
```

* å°†é‡å¤æŠ½æ ·ç»“æœç»˜åˆ¶åœ¨åŒä¸€å¼ å›¾ä¸Š
```
use income_all,clear
local c "connect"
local v "interval"
local s "msymbol(pipe)"
local l "lw(medthick)"
#delimit;
twoway (`c' id_1 `v'_1,`s'`l')(`c' id_2 `v'_2,`s'`l')
       (`c' id_3 `v'_3,`s'`l')(`c' id_4 `v'_4,`s'`l')
	   (`c' id_5 `v'_5,`s'`l')(`c' id_6 `v'_6,`s'`l'),
		xline(30123.83584131327,lpattern(dash))legend(off) 
		title("Confident Intervals for Total Income(n = 500)")
		xtitle("confident interval for repeat sampling(ğ›¼ = 0.05)") ytitle("sampling No.")
		xlabel(15000(5000)45000)ylabel(0(1)6);
graph export "`path'\Week 10\4.confident interval.png", as(png) width(4000) replace;
twoway (`c' id_1 `v'_1,`s')(`c' id_2 `v'_2,`s')
       (`c' id_3 `v'_3,`s')(`c' id_4 `v'_4,`s')
	   (`c' id_5 `v'_5,`s')(`c' id_6 `v'_6,`s')
	   (`c' id_7 `v'_7,`s')(`c' id_8 `v'_8,`s')
	   (`c' id_9 `v'_9,`s')(`c' id_10 `v'_10,`s')
	   (`c' id_11 `v'_11,`s')(`c' id_12 `v'_12,`s')
       (`c' id_13 `v'_13,`s')(`c' id_14 `v'_14,`s')
	   (`c' id_15 `v'_15,`s')(`c' id_16 `v'_16,`s')
	   (`c' id_17 `v'_17,`s')(`c' id_18 `v'_18,`s')
	   (`c' id_19 `v'_19,`s')(`c' id_20 `v'_20,`s')
	   (`c' id_21 `v'_21,`s')(`c' id_22 `v'_22,`s')
       (`c' id_23 `v'_23,`s')(`c' id_24 `v'_24,`s')
	   (`c' id_25 `v'_25,`s')(`c' id_26 `v'_26,`s')
	   (`c' id_27 `v'_27,`s')(`c' id_28 `v'_28,`s')
	   (`c' id_29 `v'_29,`s')(`c' id_30 `v'_30,`s')
	   (`c' id_31 `v'_31,`s')(`c' id_32 `v'_32,`s')
       (`c' id_33 `v'_33,`s')(`c' id_34 `v'_34,`s')
	   (`c' id_35 `v'_35,`s')(`c' id_36 `v'_36,`s')
	   (`c' id_37 `v'_37,`s')(`c' id_38 `v'_38,`s')
	   (`c' id_39 `v'_39,`s')(`c' id_40 `v'_40,`s')
	   (`c' id_41 `v'_41,`s')(`c' id_42 `v'_42,`s')
       (`c' id_43 `v'_43,`s')(`c' id_44 `v'_44,`s')
	   (`c' id_45 `v'_45,`s')(`c' id_46 `v'_46,`s')
	   (`c' id_47 `v'_47,`s')(`c' id_48 `v'_48,`s')
	   (`c' id_49 `v'_49,`s')(`c' id_50 `v'_50,`s')
	   (`c' id_51 `v'_51,`s')(`c' id_52 `v'_52,`s')
       (`c' id_53 `v'_53,`s')(`c' id_54 `v'_54,`s')
	   (`c' id_55 `v'_55,`s')(`c' id_56 `v'_56,`s')
	   (`c' id_57 `v'_57,`s')(`c' id_58 `v'_58,`s')
	   (`c' id_59 `v'_59,`s')(`c' id_60 `v'_60,`s')
	   (`c' id_61 `v'_61,`s')(`c' id_62 `v'_62,`s')
       (`c' id_63 `v'_63,`s')(`c' id_64 `v'_64,`s')
	   (`c' id_65 `v'_65,`s')(`c' id_66 `v'_66,`s')
	   (`c' id_67 `v'_67,`s')(`c' id_68 `v'_68,`s')
	   (`c' id_69 `v'_69,`s')(`c' id_70 `v'_70,`s')
	   (`c' id_71 `v'_71,`s')(`c' id_72 `v'_72,`s')
       (`c' id_73 `v'_73,`s')(`c' id_74 `v'_74,`s')
	   (`c' id_75 `v'_75,`s')(`c' id_76 `v'_76,`s')
	   (`c' id_77 `v'_77,`s')(`c' id_78 `v'_78,`s')
	   (`c' id_79 `v'_79,`s')(`c' id_80 `v'_80,`s')
	   (`c' id_81 `v'_81,`s')(`c' id_82 `v'_82,`s')
       (`c' id_83 `v'_83,`s')(`c' id_84 `v'_84,`s')
	   (`c' id_85 `v'_85,`s')(`c' id_86 `v'_86,`s')
	   (`c' id_87 `v'_87,`s')(`c' id_88 `v'_88,`s')
	   (`c' id_89 `v'_89,`s')(`c' id_90 `v'_90,`s')
	   (`c' id_91 `v'_91,`s')(`c' id_92 `v'_92,`s')
       (`c' id_93 `v'_93,`s')(`c' id_94 `v'_94,`s')
	   (`c' id_95 `v'_95,`s')(`c' id_96 `v'_96,`s')
	   (`c' id_97 `v'_97,`s')(`c' id_98 `v'_98,`s')
	   (`c' id_99 `v'_99,`s')(`c' id_100 `v'_100,`s'),
		xline(30123.83584131327,lpattern(dash))legend(off) 
		title("Confident Intervals for Total Income(n = 500)")
		xtitle("confident interval for repeat sampling(ğ›¼ = 0.05)") ytitle("sampling No.")
		xlabel(15000(5000)45000)ylabel(0(10)100);
graph export "`path'\Week 10\5.confident interval.png", as(png) width(4000) replace;
#delimit cr
```

![æŠ½æ ·åˆ†å¸ƒ](https://stat4soc.netlify.app/images/9.13.png)

#### 3. å•æ ·æœ¬Tæ£€éªŒ
*   **æ ¸å¿ƒé—®é¢˜**ï¼šæˆ‘ä»¬æ‰‹ä¸­çš„æ ·æœ¬å‡å€¼ï¼Œæ˜¯å¦æ”¯æŒâ€œæ€»ä½“å‡å€¼ç­‰äºæŸä¸ªç‰¹å®šæ•°å€¼â€çš„è¯´æ³•ï¼Ÿ
*   **å‡è®¾æ£€éªŒçš„é€»è¾‘**ï¼šæˆ‘ä»¬å…ˆå‡è®¾â€œæ€»ä½“å‡å€¼ç¡®å®ç­‰äºé‚£ä¸ªç‰¹å®šå€¼â€ï¼ˆè¿™å«**è™šæ— å‡è®¾ Hâ‚€**ï¼‰ï¼Œç„¶åè®¡ç®—æˆ‘ä»¬æ‰‹ä¸­çš„æ ·æœ¬ç»“æœåœ¨è¿™ç§å‡è®¾ä¸‹å‡ºç°çš„æ¦‚ç‡(p-value)ã€‚å¦‚æœæ¦‚ç‡æä½ï¼ˆé€šå¸¸p < 0.05ï¼‰ï¼Œæˆ‘ä»¬å°±æ¨ç¿»è¿™ä¸ªå‡è®¾ï¼Œæ¥å—â€œæ€»ä½“å‡å€¼ä¸ç­‰äºé‚£ä¸ªå€¼â€çš„**ç ”ç©¶å‡è®¾ Hâ‚**ã€‚

*   **æ¡ˆä¾‹**ï¼šæ ¹æ®CLDS**æ•´ä¸ªæ•°æ®é›†**(ç°åœ¨æˆ‘ä»¬å°†å…¶è§†ä¸ºä¸€ä¸ª**æ ·æœ¬**)ï¼Œåœ¨99%çš„ç½®ä¿¡æ°´å¹³ä¸‹ï¼Œåˆ¤æ–­ä¸­å›½åŠ³åŠ¨åŠ›2015å¹´æ€»æ”¶å…¥çš„**æ€»ä½“å‡å€¼**æ˜¯å¦ç­‰äº25000å…ƒï¼Ÿ
    *   **Hâ‚€ (è™šæ— å‡è®¾)**ï¼šæ€»ä½“å¹³å‡æ”¶å…¥ Î¼ = 25000å…ƒã€‚
    *   **Hâ‚ (ç ”ç©¶å‡è®¾)**ï¼šæ€»ä½“å¹³å‡æ”¶å…¥ Î¼ â‰  25000å…ƒã€‚

*   **æ–¹æ³•ä¸€ï¼šæ‰‹åŠ¨è®¡ç®—æ£€éªŒç»Ÿè®¡é‡** (ç†è§£å†…éƒ¨åŸç†)
    *   æˆ‘ä»¬è®¡ç®—ä¸€ä¸ªtç»Ÿè®¡é‡ï¼ˆåœ¨å¤§æ ·æœ¬ä¸‹è¿‘ä¼¼Zç»Ÿè®¡é‡ï¼‰ï¼Œå®ƒè¡¡é‡äº†æ ·æœ¬å‡å€¼ä¸å‡è®¾çš„æ€»ä½“å‡å€¼ä¹‹é—´ç›¸å·®äº†å¤šå°‘ä¸ªâ€œæ ‡å‡†è¯¯â€ã€‚
    ```spss
    /* å‡è®¾å·²åœ¨å®Œæ•´CLDSæ ·æœ¬ä¸­è®¡ç®—å‡º sam_income_mean å’Œ income_se */
    COMPUTE t_statistic = (sam_income_mean - 25000) / income_se.
    EXECUTE.
    ```
    *   è®¡ç®—å‡ºçš„`t_statistic` (çº¦4.46) è¿œå¤§äº99%ç½®ä¿¡æ°´å¹³ä¸‹çš„ä¸´ç•Œå€¼(çº¦2.58)ã€‚å› æ­¤ï¼Œæˆ‘ä»¬**æ‹’ç»Hâ‚€**ã€‚

*   **æ–¹æ³•äºŒï¼šä½¿ç”¨`T-TEST`å‘½ä»¤ (æ ‡å‡†æµç¨‹)**
```spss
* ç¡®ä¿åœ¨å®Œæ•´çš„CLDSæ ·æœ¬æ•°æ®é›†ä¸­.
GET FILE "clds2016_i.sav".
SELECT IF (I3a_6 >= 0).
COMPUTE income = I3a_6.
EXECUTE.

T-TEST
  /TESTVAL = 25000
  /VARIABLES = income
  /CRITERIA = CI(0.99).
```
![å•æ ·æœ¬Tæ£€éªŒç»“æœ](https://stat4soc.netlify.app/images/9.21.png)
*   **ç»“æœè§£è¯»**ï¼šæŸ¥çœ‹â€œSig. (2-tailed)â€å³på€¼ã€‚è¿™é‡Œpå€¼(0.000)è¿œå°äºæˆ‘ä»¬çš„æ˜¾è‘—æ€§æ°´å¹³Î± (1-0.99=0.01)ï¼Œå› æ­¤æˆ‘ä»¬**æ‹’ç»Hâ‚€**ã€‚ç»“è®ºï¼šæ ·æœ¬è¯æ®å¼ºçƒˆè¡¨æ˜ï¼Œæ€»ä½“å¹³å‡æ”¶å…¥ä¸ç­‰äº25000å…ƒã€‚

#### 4. ç‹¬ç«‹æ ·æœ¬Tæ£€éªŒ
*   **æ ¸å¿ƒé—®é¢˜**ï¼šä¸¤ä¸ªç‹¬ç«‹æ€»ä½“çš„å‡å€¼æ˜¯å¦å­˜åœ¨å·®å¼‚ï¼Ÿï¼ˆä¾‹å¦‚ï¼Œç”·æ€§çš„æ€»ä½“å¹³å‡æ”¶å…¥ä¸å¥³æ€§çš„æ€»ä½“å¹³å‡æ”¶å…¥æ˜¯å¦ç›¸ç­‰ï¼Ÿï¼‰
*   **æ¡ˆä¾‹**ï¼šåœ¨99%ç½®ä¿¡æ°´å¹³ä¸‹ï¼Œåˆ¤æ–­ä¸­å›½ç”·æ€§å’Œå¥³æ€§2015å¹´æ€»æ”¶å…¥çš„æ€»ä½“å‡å€¼æ˜¯å¦ç›¸ç­‰ï¼Ÿ
    *   **Hâ‚€ (è™šæ— å‡è®¾)**ï¼šÎ¼_ç”·æ€§ = Î¼_å¥³æ€§ (æˆ– Î¼_ç”·æ€§ - Î¼_å¥³æ€§ = 0)ã€‚
    *   **Hâ‚ (ç ”ç©¶å‡è®¾)**ï¼šÎ¼_ç”·æ€§ â‰  Î¼_å¥³æ€§ã€‚

*   **ä½¿ç”¨`T-TEST`å‘½ä»¤ (æ ‡å‡†æµç¨‹)**
```spss
/* ç¡®ä¿åœ¨å®Œæ•´çš„CLDSæ ·æœ¬æ•°æ®é›†ä¸­ */
T-TEST GROUPS = gender(1 2)  /* 1ä»£è¡¨ç”·æ€§, 2ä»£è¡¨å¥³æ€§ */
  /VARIABLES = income
  /CRITERIA = CI(0.99).
```
![ç‹¬ç«‹æ ·æœ¬Tæ£€éªŒç»“æœ](https://stat4soc.netlify.app/images/9.30.png)
*   **ç»“æœè§£è¯»ï¼ˆä¸¤æ­¥æ³•ï¼‰**
    1.  **ç¬¬ä¸€æ­¥ï¼šçœ‹â€œLevene's Test for Equality of Variancesâ€ï¼ˆæ–¹å·®é½æ€§æ£€éªŒï¼‰**ã€‚
        *   è¿™ä¸€æ­¥æ˜¯åˆ¤æ–­ä¸¤ä¸ªç»„çš„æ–¹å·®æ˜¯å¦é½æ•´ã€‚çœ‹å…¶â€œSig.â€å€¼ã€‚å¦‚æœSig. > 0.05ï¼Œè¯´æ˜æ–¹å·®æ˜¯é½çš„ï¼Œæˆ‘ä»¬åº”è¯¥çœ‹ä¸Šé¢ä¸€è¡Œ("Equal variances assumed")çš„ç»“æœã€‚å¦‚æœSig. < 0.05ï¼Œè¯´æ˜æ–¹å·®ä¸é½ï¼Œæˆ‘ä»¬å¿…é¡»çœ‹ä¸‹é¢ä¸€è¡Œ("Equal variances not assumed")çš„ç»“æœã€‚
        *   åœ¨æœ¬ä¾‹ä¸­ï¼ŒLeveneæ£€éªŒçš„Sig.ä¸º0.000ï¼Œå°äº0.01ï¼Œè¯´æ˜æ–¹å·®**ä¸é½**ã€‚
    2.  **ç¬¬äºŒæ­¥ï¼šæ ¹æ®ç¬¬ä¸€æ­¥çš„åˆ¤æ–­ï¼Œçœ‹å¯¹åº”è¡Œçš„tæ£€éªŒç»“æœ**ã€‚
        *   æˆ‘ä»¬çœ‹ä¸‹é¢ä¸€è¡Œçš„â€œSig. (2-tailed)â€ã€‚è¿™é‡Œçš„på€¼(0.000)è¿œå°äºæˆ‘ä»¬çš„æ˜¾è‘—æ€§æ°´å¹³Î±(0.01)ã€‚
        *   **ç»“è®º**ï¼šæˆ‘ä»¬**æ‹’ç»Hâ‚€**ã€‚æ ·æœ¬è¯æ®å¼ºçƒˆè¡¨æ˜ï¼Œç”·æ€§å’Œå¥³æ€§çš„æ€»ä½“å¹³å‡æ”¶å…¥å­˜åœ¨æ˜¾è‘—å·®å¼‚ã€‚

#### 5. ä½¿ç”¨æ‘˜è¦ä¿¡æ¯è¿›è¡ŒTæ£€éªŒ
*   **ä½¿ç”¨åœºæ™¯**ï¼šå½“æˆ‘ä»¬æ²¡æœ‰åŸå§‹æ•°æ®ï¼Œä½†ä»æ–‡çŒ®æˆ–æŠ¥å‘Šä¸­å¾—çŸ¥äº†ä¸¤ç»„çš„å‡å€¼ã€æ ‡å‡†å·®å’Œæ ·æœ¬é‡æ—¶ï¼Œä¾ç„¶å¯ä»¥è¿›è¡Œç‹¬ç«‹æ ·æœ¬Tæ£€éªŒã€‚
*   **æ³¨æ„**ï¼šè¿™éœ€è¦å®‰è£…Pythonæ‰©å±•åŒ…ä¸­çš„`spssinc summary ttest`å‘½ä»¤ã€‚

*   **æ¡ˆä¾‹**ï¼šæ ·æœ¬1(n=500, mean=6.1, sd=4.27)ï¼Œæ ·æœ¬2(n=500, mean=5.5, sd=5.56)ã€‚åœ¨95%ç½®ä¿¡æ°´å¹³ä¸‹ï¼Œåˆ¤æ–­ä¸¤æ€»ä½“å‡å€¼æ˜¯å¦ç›¸ç­‰ï¼Ÿ
```spss
spssinc summary ttest n1=500 mean1=6.1 sd1=4.27 label1="æ ·æœ¬1"
                      n2=500 mean2=5.5 sd2=5.56 label2="æ ·æœ¬2"
                      ci=95.
```
![æ‘˜è¦ä¿¡æ¯Tæ£€éªŒ](https://stat4soc.netlify.app/images/9.32.png)
*   **ç»“æœè§£è¯»**ï¼šåŒæ ·å…³æ³¨Leveneæ£€éªŒå’Œæœ€ç»ˆçš„tæ£€éªŒpå€¼ã€‚æœ¬ä¾‹ä¸­ï¼Œpå€¼(0.055)å¤§äº0.05ï¼Œå› æ­¤æˆ‘ä»¬**ä¸èƒ½æ‹’ç»è™šæ— å‡è®¾**ï¼Œå³æ²¡æœ‰è¶³å¤Ÿè¯æ®è¡¨æ˜ä¸¤ä¸ªæ€»ä½“å‡å€¼å­˜åœ¨å·®å¼‚ã€‚


3.  æ£€éªŒä¸­å›½ç”·å¥³æ€§çš„æ€»ä½“å¹³å‡æœ€é«˜æ•™è‚²ç¨‹åº¦ï¼ˆ`I2_1`è½¬æ¢åçš„æ•™è‚²å¹´é™ï¼‰æ˜¯å¦ç›¸ç­‰ï¼ˆç½®ä¿¡æ°´å¹³95%ï¼‰ã€‚
